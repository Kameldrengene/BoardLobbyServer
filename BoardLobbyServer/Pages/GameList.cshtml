@page
@model BoardLobbyServer.Pages.GameListModel
@{
}

@if (Model.logged)
{
    <h1 class="mt-3">Game List:</h1>

    <table class="table" id="lobbyTable">
        <thead class="thead-dark">
            <tr>
                <th data-field="id" scope="col">Id</th>
                <th data-field="name" scope="col">Name</th>
                <th data-field="lobbyname" scope="col">Lobbyname</th>
                <th data-field="joined" scope="col">joined</th>
                <th data-field="handle" scope="col">Handle</th>
                <th data-field="handle" scope="col">Status</th>
            </tr>
        </thead>
        <tbody id="rows">
        </tbody>
    </table>
    <div hidden id="test">
        <form id="sendgameid" method="post">
            <input id="formgameid" type="text" name="gameid" />
            <button id="gamewatchbutton" asp-page="Game">click</button>
        </form>
    </div>
}
else
{
    <div class="alert alert-danger d-flex align-items-center m-3" role="alert">
        <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill" /></svg>
        <div>
            You have to <a asp-page="SignIn" class="alert-link">log in</a> to manage games Bro!
</div>
    </div>
}

@section Scripts{
    <script src="~/js/gameList.js"></script>
}

<script src="~/js/signalr/dist/browser/signalr.js"></script>